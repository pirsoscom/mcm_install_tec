webpackJsonp([0],{"+Qe5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){switch(e){case 400:return"error.request";case 401:return"error.unauthorized";case 403:return"error.forbidden";case 404:return"error.notfound";case 409:return"error.exist";case 500:return"error.server";case 502:return"error.unavailable";default:return"error.default.description"}}},"4h6v":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCompliance=t.createPolicy=t.createResource=t.createResources=t.resetResource=t.clearRequestStatus=t.receiveDelError=t.receiveDelResource=t.delResource=t.receivePutError=t.receivePutResource=t.putResource=t.receivePostError=t.receivePostResource=t.postResource=t.updateModal=t.updateSecondaryHeader=t.removeResource=t.editResource=t.updateResourceLabels=t.fetchResource=t.fetchResources=t.mutateResourceFailure=t.mutateResourceSuccess=t.mutateResource=t.deleteResource=t.modifyResource=t.addResource=t.requestResource=t.receiveResourceError=t.receiveResourceSuccess=t.sortTable=t.searchTable=t.changeTablePage=void 0;var n=c(r("M4fF")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("Qob7")),o=c(r("meNo"));function c(e){return e&&e.__esModule?e:{default:e}}t.changeTablePage=function(e,t){var r=e.page,n=e.pageSize;return{type:a.TABLE_PAGE_CHANGE,page:r,pageSize:n,resourceType:t}},t.searchTable=function(e,t){return{type:a.TABLE_SEARCH,search:e,resourceType:t}},t.sortTable=function(e,t,r){return{type:a.TABLE_SORT,sortDirection:e,sortColumn:t,resourceType:r}};var u=t.receiveResourceSuccess=function(e,t){return{type:a.RESOURCE_RECEIVE_SUCCESS,status:a.REQUEST_STATUS.DONE,items:e.items,resourceVersion:n.default.get(e,"metadata.resourceVersion"),resourceType:t}},l=t.receiveResourceError=function(e,t){return{type:a.RESOURCE_RECEIVE_FAILURE,status:a.REQUEST_STATUS.ERROR,err:e,resourceType:t}},i=t.requestResource=function(e){return{type:a.RESOURCE_REQUEST,status:a.REQUEST_STATUS.IN_PROGRESS,resourceType:e}},s=(t.addResource=function(e,t){return{type:a.RESOURCE_ADD,resourceType:e.kind||t,item:e}},t.modifyResource=function(e,t){return{type:a.RESOURCE_MODIFY,resourceType:e.kind||t,item:e}},t.deleteResource=function(e,t){return{type:a.RESOURCE_DELETE,resourceType:e.kind||t,item:e}},t.mutateResource=function(e,t){return{type:a.RESOURCE_MUTATE,resourceName:t,resourceType:e}}),d=t.mutateResourceSuccess=function(e,t){return{type:a.RESOURCE_MUTATE_SUCCESS,resourceName:t,resourceType:e}},f=t.mutateResourceFailure=function(e,t){return{type:a.RESOURCE_MUTATE_FAILURE,postStatus:a.REQUEST_STATUS.ERROR,err:{error:t},resourceType:e}},p=t.fetchResources=function(e,t){return function(r){return r(i(e)),o.default.get(e,t).then(function(t){return t.errors?r(l(t.errors[0],e)):r(u({items:n.default.cloneDeep(t.data.items)},e))}).catch(function(t){return r(l(t,e))})}},m=(t.fetchResource=function(e,t,r){return function(a){a(i(e));var c="HCMNode"==e.name?null:t;return o.default.getResource(e,{ns:c,name:r}).then(function(t){return t.errors?a(l(t.errors[0],e)):a(u({items:n.default.cloneDeep(t.data.items)},e))}).catch(function(t){return a(l(t,e))})}},t.updateResourceLabels=function(e,t,r,n,a){return function(c){return c(g(e)),o.default.updateResourceLabels(e.name,t,r,n,a,"/metadata/labels").then(function(t){return t.errors?c(b(t.errors[0],e)):(c(p(e)),c(m({open:!1,type:"label-editing"})),c(y(e)))}).catch(function(t){return c(b(t,e))})}},t.editResource=function(e,t,r,n,a,c){return function(u){return u(g(e)),o.default.updateResource(e.name,t,r,n,a,c).then(function(t){return t.errors?u(b(t.errors[0],e)):(u(m({open:!1,type:"resource-edit"})),u(p(e)),u(y(t,e)))})}},t.removeResource=function(e,t){return r=regeneratorRuntime.mark(function r(n){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(R(e)),r.prev=1,r.next=4,o.default.remove(e,t);case 4:if(!(a=r.sent).errors){r.next=7;break}return r.abrupt("return",n(T(a.errors,e)));case 7:n(S(a,e,t)),r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",n(T(r.t0,e)));case 13:case"end":return r.stop()}},r,void 0,[[1,10]])}),n=function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(a,o){try{var c=e[a](o),u=c.value}catch(e){return void r(e)}if(!c.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});t(u)}("next")})},function(e){return n.apply(this,arguments)};var r,n},t.updateSecondaryHeader=function(e,t,r,n,o,c){return{type:a.SECONDARY_HEADER_UPDATE,title:e,tabs:t,breadcrumbItems:r,links:n,actions:o,tooltip:c}},t.updateModal=function(e){return{type:a.MODAL_UPDATE,data:e}}),h=t.postResource=function(e){return{type:a.POST_REQUEST,postStatus:a.REQUEST_STATUS.IN_PROGRESS,resourceType:e}},v=t.receivePostResource=function(e,t){return{type:a.POST_RECEIVE_SUCCESS,postStatus:a.REQUEST_STATUS.DONE,resourceType:e.kind||t,item:e}},E=t.receivePostError=function(e,t){return{type:a.POST_RECEIVE_FAILURE,postStatus:a.REQUEST_STATUS.ERROR,err:e,resourceType:t}},g=t.putResource=function(e){return{type:a.PUT_REQUEST,putStatus:a.REQUEST_STATUS.IN_PROGRESS,resourceType:e}},y=t.receivePutResource=function(e,t){return{type:a.PUT_RECEIVE_SUCCESS,putStatus:a.REQUEST_STATUS.DONE,resourceType:e.kind||t,item:e}},b=t.receivePutError=function(e,t){return{type:a.PUT_RECEIVE_FAILURE,putStatus:a.REQUEST_STATUS.ERROR,err:e,resourceType:t}},R=t.delResource=function(e){return{type:a.DEL_REQUEST,delStatus:a.REQUEST_STATUS.IN_PROGRESS,resourceType:e}},S=t.receiveDelResource=function(e,t,r){return{type:a.DEL_RECEIVE_SUCCESS,delStatus:a.REQUEST_STATUS.DONE,resourceType:e.kind||t,item:e,resource:r}},T=t.receiveDelError=function(e,t){return{type:a.DEL_RECEIVE_FAILURE,delStatus:a.REQUEST_STATUS.ERROR,err:e,resourceType:t}};t.clearRequestStatus=function(e){return{type:a.CLEAR_REQUEST_STATUS,resourceType:e}},t.resetResource=function(e){return{type:a.RESOURCE_RESET,resourceType:e}},t.createResources=function(e,t){return function(r){return r(s(e)),o.default.createResources(t).then(function(t){return t.data.createResources.errors&&t.data.createResources.errors.length>0?r(f(e,t.data.createResources.errors[0])):r(d(e)),t})}},t.createResource=function(e,t){return function(r){return r(h(e)),o.default.createResource(e,t).then(function(t){return t.errors?r(E(t.errors[0],e)):r(v(n.default.cloneDeep(t.data.setHelmRepo),e))}).catch(function(t){return r(E(t,e))})}},t.createPolicy=function(e,t){return function(r){return r(s(e)),o.default.createPolicy(t).then(function(t){return t.errors&&t.errors.length>0?r(f(e,t.errors[0])):r(d(e)),t})}},t.createCompliance=function(e,t){return function(r){return r(s(e)),o.default.createCompliance(t).then(function(t){return t.errors&&t.errors.length>0?r(f(e,t.errors[0])):r(d(e)),t})}}},G3X6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r("GiK3")),o=r("lbqF"),c=l(r("KSGD")),u=l(r("HKeu"));function l(e){return e&&e.__esModule?e:{default:e}}(0,l(r("2JYu")).default)(function(){r("lu1n")});var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.open,r=e.closeModal,n=e.headerText,c=e.dialogText,l=e.locale,i=e.statusCode,s=e.loader,d=e.redirect,f=e.buttonText;return a.default.createElement(o.ComposedModal,{id:"connections-dialog",role:"region","aria-label":n,containerClassName:"connections-modal",onClose:r,open:t},a.default.createElement(o.ModalHeader,{title:n},s&&a.default.createElement(o.InlineLoading,{description:""})),a.default.createElement(o.ModalBody,null,a.default.createElement("div",{className:"connection-modal-dialogue"},c)),a.default.createElement(o.ModalFooter,null,a.default.createElement(o.Button,{type:"button",disabled:201!=i&&200!=i,onClick:d},u.default.get(f,l))))}}]),t}();i.propTypes={buttonText:c.default.string,closeModal:c.default.func,dialogText:c.default.string,headerText:c.default.string,loader:c.default.bool,locale:c.default.string,open:c.default.bool,redirect:c.default.func,statusCode:c.default.number},t.default=i},OAwv:function(e,t,r){"use strict";const n=r("rprB"),a=r("i4Cv");function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function c(e,t){return t.decode?a(e):e}function u(e){const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=Object.assign({decode:!0,arrayFormat:"none"},t)),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){let[e,o]=a.replace(/\+/g," ").split("=");o=void 0===o?null:c(o,t),r(c(e,t),o,n)}return Object.keys(n).sort().reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=u,t.parse=l,t.stringify=((e,t)=>{!1===(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=(()=>{}));const r=function(e){switch(e.arrayFormat){case"index":return(t,r,n)=>null===r?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(r,e)].join("");case"bracket":return(t,r)=>null===r?[o(t,e),"[]"].join(""):[o(t,e),"[]=",o(r,e)].join("");default:return(t,r)=>null===r?o(t,e):[o(t,e),"=",o(r,e)].join("")}}(t);return e?Object.keys(e).sort(t.sort).map(n=>{const a=e[n];if(void 0===a)return"";if(null===a)return o(n,t);if(Array.isArray(a)){const e=[];for(const t of a.slice())void 0!==t&&e.push(r(n,t,e.length));return e.join("&")}return o(n,t)+"="+o(a,t)}).filter(e=>e.length>0).join("&"):""}),t.parseUrl=((e,t)=>({url:e.split("?")[0]||"",query:l(u(e),t)}))},SX5s:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloudConnectionPageWithoutRouter=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=y(r("GiK3")),c=r("RH2O"),u=r("F8kA"),l=r("4h6v"),i=r("lbqF"),s=y(r("HKeu")),d=y(r("KSGD")),f=y(r("q/sg")),p=y(r("2JYu")),m=y(r("meNo")),h=y(r("G3X6")),v=y(r("+Qe5")),E=y(r("OAwv")),g=r("BfhI");function y(e){return e&&e.__esModule?e:{default:e}}var b=r("NVob");(0,p.default)(function(){r("thkr")});var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.isValidSecret=function(e){try{var t=JSON.parse(e);if(Object.entries(t).length>0)return!0}catch(e){return!1}},r.handleDropdown=function(e){var t=Object.assign({},r.state.connection),a=e.selectedItem,o={};"namespace"===a.id?(o=r.getErrorState(r.state.secretMetaData,a.text),t[a.id]=a.text):(o=r.getErrorState(r.state.secretMetaData,a.id),t.provider=a.id),o[a.id]&&(o[a.id]=!1),r.setState(function(e){return n({},e,{connection:t,errors:o})})},r.handleChange=function(e){var t=Object.assign({},r.state.connection),a=Object.assign({},r.state.errors),o=e.target,c=o.name,u=o.value;t[c]=u,a[c]&&(a[c]=!1),r.setState(function(e){return n({},e,{connection:t,errors:a})})},r.handleKeyChange=function(e){var t=Object.assign({},r.state.metadata),a=Object.assign({},r.state.errors),o=e.target,c=o.name,u=o.value;t.secret[c]=u,a[c]&&(a[c]=!1),r.setState(function(e){return n({},e,{metadata:t,errors:a})})},r.handleConnect=function(){var e=r.state,t=e.connection,a=e.metadata,o=e.editConnection,c=e.type,u=Object.keys(r.state.errors),l=Object.assign({},r.state.errors);u.map(function(e){return""==t[e]?l[e]=!0:t[e]||a.secret[e]||!document.getElementById(e)?c&&"JSON"===c[e]&&document.getElementById(e)&&a.secret[e]&&!r.isValidSecret(a.secret[e])?l[e]=!0:void 0:l[e]=!0}),Object.values(l).includes(!0)?r.setState(function(e){return n({},e,{errors:l})}):o&&o.name?r.editConnection(t,a):r.createConnection(t,a)},r.handleRedirect=function(){var e=r.props,t=e.history,n=e.location;n.search&&n.search.includes("provider")||n.search.includes("connection")?t.push("/multicloud/clusters/connections"):t.push("/multicloud/overview")},r.redirectToConnections=function(){r.props.history.push("/multicloud/clusters/connections")},r.closeModal=function(){r.setState({modalOpen:!1})},r.state={connection:{provider:"",name:"",namespace:""},metadata:{secret:{}},modalOpen:!1,errors:{provider:!1,name:!1,namespace:!1},loader:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.location,a=t.selectedProvider;if("createCluster"!==t.isFrom){var o=this.getBreadcrumbs(),c=this.getSecondaryHeaderActions(),u=r.search&&r.search.includes("provider")?s.default.get("page.connections.edit",this.context.locale):s.default.get("page.connections.title",this.context.locale),l=r.search&&E.default.parse(this.props.location.search);l&&l.name&&this.setState(function(e){return n({},e,{editConnection:{name:l&&l.name,namespace:l&&l.namespace,provider:l&&l.provider},connection:{provider:l&&l.provider,name:l&&l.name,namespace:l&&l.namespace}})}),this.props.updateSecondaryHeader(u,o,c)}m.default.getOrchestrations().then(function(t){var o=t.data.items;if(o&&200==o[0].statusCode){var c=o&&o.map(function(e){return{id:e.name,text:e.longname}}),u=o&&o.map(function(e){return n({name:e.name},b.safeLoad(e.configMetadata))}),l=void 0;r&&(l=(r.search&&E.default.parse(e.props.location.search)).provider);var i=e.getErrorState(u,l);if(e.setState(function(e){return n({},e,{secretMetaData:u,errors:i,providersList:c,providers:!0})}),a){var s=Object.assign({},e.state.connection);s.provider=a,e.setState(function(e){return n({},e,{connection:s})})}}else e.setState(function(e){return n({},e,{providers:!1,statusCode:o[0].statusCode})})})}},{key:"getBreadcrumbs",value:function(){var e=this.props.location,t=e.pathname.split("/"),r=t.slice(0,t.length-2).join("/")+"/overview",n=s.default.get("page.connections.path",this.context.locale);return(e.search&&e.search.includes("provider")||e.search.includes("connection"))&&(r=t.slice(0,t.length-2).join("/")+"/clusters/connections",n=s.default.get("routes.cluster",this.context.locale)),[{label:n,url:r}]}},{key:"getSecondaryHeaderActions",value:function(){var e=this.props.location,t=e.search&&e.search.includes("provider")?s.default.get("connection.save.button.save",this.context.locale):s.default.get("connection.create.button.create",this.context.locale);return{secondary:{label:s.default.get("connection.cancel.button.cancel",this.context.locale),action:this.handleRedirect},primary:{label:t,action:this.handleConnect}}}},{key:"getErrorState",value:function(e,t){var r=this,a=Object.assign({},this.state.errors),o={};return e.forEach(function(e){var c=Object.values(e.secret);e.name==t?(c.forEach(function(e){var t=e&&e.__metadata;a[t.name]=!1,o[t.name]=t.type}),r.setState(function(e){return n({},e,{type:o})})):r.setState(function(e){return n({},e)})}),a}},{key:"createConnection",value:function(e,t){var r=this,a={metadata:b.safeDump(t),name:e.name,namespace:e.namespace,provider:(0,g.getCloudProviderType)(e.provider)};return this.setState(function(e){return n({},e,{loader:!0,modalOpen:!0,message:s.default.get("cloud.provider.connect",r.context.locale)})}),m.default.createCloudConnection(a).then(function(e){var t=e.data.createCloudConnection;t&&201==t.statusCode?r.setState(function(e){return n({},e,{loader:!1,message:s.default.get("cloud.provider.success",r.context.locale),statusCode:t.statusCode})}):r.setState(function(e){return n({},e,{loader:!1,message:s.default.get((0,v.default)(t.statusCode),r.context.locale),statusCode:t.statusCode})})})}},{key:"editConnection",value:function(e,t){var r=this,a={metadata:b.safeDump(t),name:e.name,namespace:e.namespace,provider:e.provider};return this.setState(function(e){return n({},e,{loader:!0,modalOpen:!0,message:s.default.get("cloud.provider.connect",r.context.locale)})}),m.default.editCloudConnection(a,e.namespace,e.name).then(function(e){var t=e.data.editCloudConnection;t&&200==t.statusCode?r.setState(function(e){return n({},e,{loader:!1,message:s.default.get("cloud.provider.success",r.context.locale),statusCode:t.statusCode})}):r.setState(function(e){return n({},e,{loader:!1,message:s.default.get((0,v.default)(t.statusCode),r.context.locale),statusCode:t.statusCode})})})}},{key:"getAlert",value:function(){alert("getAlert from Child")}},{key:"render",value:function(){var e=this.state,t=e.connection,r=e.modalOpen,n=e.errors,a=e.secretMetaData,c=e.metadata,u=e.editConnection,l=e.providersList,s=e.providers,d=e.statusCode,p=this.props,m=p.namespaces,h=p.isFrom,v=m&&m.split(",").map(function(e){return{id:"namespace",text:e}});return o.default.createElement("div",{className:"cloud-connections-container"},!s&&!d&&o.default.createElement("div",{className:"cloud-connections-container-loader"},o.default.createElement(i.Loading,{withOverlay:!1})),o.default.createElement("div",{className:"cloud-connections-container-error"},!1===s&&this.renderError(d)),o.default.createElement("div",{className:"cloud-connections-items"},r&&this.renderModal(),s&&o.default.createElement(f.default,{handleDropdown:this.handleDropdown,handleChange:this.handleChange,connection:t,namespaces:v,errors:n,providers:l,secrets:a,handleKeyChange:this.handleKeyChange,secretField:c,editConnection:u,isValidSecret:this.isValidSecret,isSetup:"false",isFrom:h})))}},{key:"renderError",value:function(e){return o.default.createElement(i.InlineNotification,{title:"",iconDescription:"Close button",subtitle:s.default.get((0,v.default)(e),this.context.locale),kind:"error"})}},{key:"renderModal",value:function(){var e=this.state,t=e.editConnection,r=e.modalOpen,n=e.message,a=e.statusCode,c=e.loader;return o.default.createElement(h.default,{open:r,closeModal:this.closeModal.bind(this),locale:this.context.locale,headerText:t&&t.name?s.default.get("update.cloud.provider",this.context.locale):s.default.get("connect.cloud.provider",this.context.locale),dialogText:n,statusCode:a,loader:c,redirect:this.redirectToConnections,buttonText:"cloud.connection.page"})}}]),t}();R.contextTypes={locale:d.default.string},R.propTypes={history:d.default.object,isFrom:d.default.string,location:d.default.object,namespaces:d.default.string,selectedProvider:d.default.string,updateSecondaryHeader:d.default.func};var S=(0,c.connect)(function(e){return{namespaces:e.namespaces&&e.namespaces.selected_namespaces}},function(e){return{updateSecondaryHeader:function(t,r,n){return e((0,l.updateSecondaryHeader)(t,null,r,null,n))}}},null,{withRef:!0})(R);t.CloudConnectionPageWithoutRouter=S,t.default=(0,u.withRouter)(S)},i4Cv:function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function c(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=c(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),u=0;u<o.length;u++){var l=o[u];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},lu1n:function(e,t){},mzDA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=i(r("M4fF")),o=i(r("GiK3")),c=i(r("Xb8Z")),u=r("jq45"),l=r("3zLD");function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=void 0,f=void 0,p=void 0,m=void 0,h=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=Array(u),i=0;i<u;i++)l[i]=arguments[i];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.getMatchedModal=function(e){var t=e.type,r=e.resourceType,n=e.open,o=e.data;switch(r={name:r.name,list:r.list},t){case"table.actions.edit":return n&&a.getResourceModal({open:!0,type:"resource-edit",action:"put",resourceType:r,editorMode:"json",label:{primaryBtn:"modal.button.submit",label:"modal.edit-"+r.name.toLowerCase()+".label",heading:"modal.edit-"+r.name.toLowerCase()+".heading"},data:o});case"table.actions.applications.remove":case"table.actions.compliance.remove":case"table.actions.policy.remove":case"table.actions.remove":return n&&a.getRemoveResourceModal({open:!0,type:"resource-remove",resourceType:r,label:{primaryBtn:"modal.remove-"+r.name.toLowerCase()+".heading",label:"modal.remove-"+r.name.toLowerCase()+".label",heading:"modal.remove-"+r.name.toLowerCase()+".heading"},data:o});case"table.actions.cluster.edit.labels":return n&&a.getLabelEditingModal({open:!0,type:"label-editing",action:"put",resourceType:r,label:{primaryBtn:"modal.button.submit",label:"modal.edit-"+r.name.toLowerCase()+".label",heading:"modal.edit-"+r.name.toLowerCase()+".heading"},data:o});case"table.actions.pod.logs":return n&&a.getLogsModal({open:!0,type:"view-logs",resourceType:r,data:o});default:return null}},a.getLogsModal=function(e){return m=void 0===m?(0,c.default)(function(){return r.e(2).then(r.bind(null,"lX99"))}):m,a.getModal(m,e)},a.getResourceModal=function(e){return p=void 0===p?(0,c.default)(function(){return r.e(14).then(r.bind(null,"nb3E"))}):p,a.getModal(p,e)},a.getRemoveResourceModal=function(e){return d=void 0===d?(0,c.default)(function(){return r.e(3).then(r.bind(null,"55pu"))}):d,a.getModal(d,e)},a.getLabelEditingModal=function(e){return f=void 0===f?(0,c.default)(function(){return r.e(1).then(r.bind(null,"DkXe"))}):f,a.getModal(f,e)},a.getModal=function(e,t){return o.default.createElement(e,t)},s(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"render",value:function(){var e=this;return o.default.createElement(l.Query,{query:u.GET_ACTION_MODAL_STATE},function(t){var r=t.data;return a.default.get(r,"actionModal.open")?e.getMatchedModal(a.default.get(r,"actionModal")):null})}}]),t}();t.default=h},"q/sg":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("GiK3")),a=r("F8kA"),o=r("lbqF"),c=s(r("HKeu")),u=s(r("KSGD")),l=s(r("2JYu")),i=s(r("U27f"));function s(e){return e&&e.__esModule?e:{default:e}}(0,l.default)(function(){r("thkr")});var d=function(e,t){var r=e.handleDropdown,a=e.handleChange,u=e.connection,l=e.namespaces,s=e.errors,d=e.providers,m=e.secrets,h=e.handleKeyChange,v=e.secretField,E=e.editConnection,g=e.isValidSecret,y=e.isSetup,b=e.isFrom;return n.default.createElement(o.Form,null,n.default.createElement("div",{className:"select-cloud-section"},n.default.createElement("div",{className:"select-cloud-section-errors"},s&&s.provider&&n.default.createElement(p,{subtitle:c.default.get("cloud.provider.placeholder",t.locale)}),s&&s.namespace&&n.default.createElement(p,{subtitle:c.default.get("cloud.namespace.placeholder",t.locale)})),"createCluster"!==b&&n.default.createElement("p",{className:"select-cloud-section-header"},c.default.get("cloud.provider.heading",t.locale)),n.default.createElement("div",{className:"header-bar"}),n.default.createElement("div",{className:"select-cloud-section-inner"},"createCluster"!==b&&n.default.createElement(f,{labelText:c.default.get("cloud.provider.labelText",t.locale),required:!0,className:"provider"},n.default.createElement(o.DropdownV2,{id:"cloud-provider-name",label:E&&E.provider?E.provider:c.default.get("cloud.provider.placeholder",t.locale),disabled:!(!E||!E.provider),titleText:c.default.get("cloud.provider.placeholder",t.locale),items:d||[],onChange:r,itemToString:function(e){return e?e.text:""}})),n.default.createElement(f,{labelText:c.default.get("cloud.connection.labelText",t.locale),required:!0,className:"connection"},n.default.createElement(o.TextInput,{name:"name",id:"cloud-connection-name",value:u.name,labelText:u.name,disabled:!(!E||!E.name),hideLabel:!0,light:!0,placeholder:c.default.get("cloud.connection.placeholder",t.locale),invalid:s.name&&!u.name,invalidText:c.default.get("formerror.required",t.locale),onChange:a})),n.default.createElement(f,{labelText:c.default.get("cloud.namespace.labelText",t.locale),required:!0,className:"namespace"},n.default.createElement(o.DropdownV2,{id:"cloud-provider-namespace",label:E&&E.namespace?E.namespace:c.default.get("cloud.namespace.placeholder",t.locale),titleText:c.default.get("cloud.namespace.placeholder",t.locale),disabled:!(!E||!E.namespace),items:l,onChange:r,itemToString:function(e){return e?e.text:""}})))),(u.provider||E&&E.provider)&&n.default.createElement("div",{className:"configure-cloud-section"},n.default.createElement("p",{className:"configure-cloud-section-header"},c.default.get("cloud.configure.heading",t.locale)),n.default.createElement("div",{className:"header-bar"}),n.default.createElement("div",{className:"configure-cloud-section-link"},n.default.createElement("a",{href:"https://www.ibm.com/support/knowledgecenter/SSFC4F_1.3.0/mcm/manage_cluster/cloud_providers.html",target:"_configure"},c.default.get("cloud.configure.connection",t.locale),n.default.createElement("img",{src:i.default.contextPath+"/graphics/help.svg",alt:"help"}))),n.default.createElement("div",{className:"configure-cloud-section-inner"},m&&m.map(function(e){if("false"===y&&(e.name==u.provider||e.name==E&&E.provider)){var a=Object.values(e.secret);return y="true",a.map(function(e){var a=e&&e.__metadata;return"string"===a.type?n.default.createElement(f,{key:a.name,labelText:a.label,required:a.required,description:a.description,className:"secret"},n.default.createElement(o.TextInput,{name:a.name,id:a.name,labelText:a.label,hideLabel:!0,light:!0,placeholder:"Enter "+a.label,invalid:s[a.name]&&!v.secret[a.name],invalidText:c.default.get("formerror.required",t.locale),onChange:h})):"JSON"===a.type?n.default.createElement(f,{labelText:a.label,required:a.required,description:a.description,className:"pull-secret"},n.default.createElement(o.TextArea,{name:a.name,hideLabel:!1,invalidText:c.default.get("formerror.required",t.locale),invalid:s[a.name]&&!v.secret[a.name]||s[a.name]&&v.secret[a.name]&&!g(v.secret[a.name]),placeholder:"Enter "+a.label,id:a.name,onChange:h})):"array"===a.type?n.default.createElement(f,{labelText:a.label,required:a.required,description:a.description,className:"secret"},n.default.createElement(o.DropdownV2,{id:a.name,label:a.label,titleText:"",items:[],onChange:r,itemToString:function(e){return e?e.text:""}})):void 0})}}))))},f=function(e){return n.default.createElement(o.FormItem,{className:"bx--form-item-override"+(e.className?" "+e.className:"")},n.default.createElement(o.FormLabel,null,e.required?e.labelText+" *":e.labelText),n.default.Children.map(e.children,function(t){return n.default.isValidElement(t)&&n.default.cloneElement(t,{"aria-label":e.labelText})}))},p=function(e){return n.default.createElement(o.InlineNotification,{title:"",iconDescription:"Close button",subtitle:e.subtitle,kind:"error"})};d.contextTypes={locale:u.default.string},d.propTypes={connection:u.default.object,editConnection:u.default.object,errors:u.default.object,handleChange:u.default.func,handleDropdown:u.default.func,handleKeyChange:u.default.func,isFrom:u.default.string,isSetup:u.default.string,isValidSecret:u.default.isValidSecret,namespaces:u.default.array,providers:u.default.array,secretField:u.default.object,secrets:u.default.array},f.propTypes={children:u.default.element,className:u.default.string,labelText:u.default.string,required:u.default.bool},p.propTypes={subtitle:u.default.string},t.default=(0,a.withRouter)(d)},rprB:function(e,t,r){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},thkr:function(e,t){},xCa3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r("GiK3")),a=r("F8kA"),o=r("RH2O"),c=s(r("U27f")),u=s(r("SX5s")),l=s(r("KSGD")),i=r("dv0G");function s(e){return e&&e.__esModule?e:{default:e}}var d=[i.ROLES.CLUSTER_ADMIN,i.ROLES.ADMIN],f=[i.ROLES.CLUSTER_ADMIN,i.ROLES.ADMIN,i.ROLES.EDITOR],p=function(e){var t=e.match,r=e.location,o=e.role;return n.default.createElement("div",null,n.default.createElement(a.Switch,null,d.includes(o)&&n.default.createElement(a.Route,{path:t.url+"/create",render:function(){return n.default.createElement(u.default,{isFrom:"createConnection"})}}),f.includes(o)&&r.search&&r.search.includes("provider")&&n.default.createElement(a.Route,{path:t.url+"/edit",render:function(){return n.default.createElement(u.default,{isFrom:"createConnection"})}}),d.includes(o)&&r.pathname===t.url?n.default.createElement(a.Redirect,{to:t.url+"/create"}):n.default.createElement(a.Redirect,{to:c.default.contextPath+"/welcome"})))};p.propTypes={location:l.default.object,match:l.default.object,role:l.default.string};t.default=(0,a.withRouter)((0,o.connect)(function(e){return{role:e.role.role}},null)(p))}});
//# sourceMappingURL=actionModalApollo.4bf6c7795215a14d5b2a.min.js.map